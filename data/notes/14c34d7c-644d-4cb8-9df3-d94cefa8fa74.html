<h1 id="syntax"><a aria-hidden="true" class="anchor-heading" href="#syntax"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Syntax</h1>
<h1 id="syntax-1"><a aria-hidden="true" class="anchor-heading" href="#syntax-1"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Syntax</h1>
<h2 id="modules"><a aria-hidden="true" class="anchor-heading" href="#modules"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Modules</h2>
<pre class="language-erlang"><code class="language-erlang"><span class="token comment">%%% This is a module-level comment</span>
<span class="token comment">%%% @doc This tag includes officiel EDoc documentation.</span>
<span class="token comment">%%% It can be useful for people to consule</span>
<span class="token comment">%%% @end</span>
<span class="token comment">%%% Generate documentation with rebar3 edoc</span>

<span class="token comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
<span class="token comment">%%% Let's start with Module Attributes %%%</span>
<span class="token comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>

<span class="token comment">%% This is an attribute or function-specific comment</span>
<span class="token comment">%% attributes start with a `-', functions with letters.</span>
<span class="token comment">%% This file should be saved as `sample.erl'</span>
<span class="token operator">-</span><span class="token function">module</span><span class="token punctuation">(</span><span class="token atom">sample</span><span class="token punctuation">)</span><span class="token punctuation">.</span>

<span class="token comment">%% Functions are described in the form Name/Arity, and must</span>
<span class="token comment">%% be exported through an `-export([...]).' module attribute</span>
<span class="token operator">-</span><span class="token function">export</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token atom">f</span><span class="token operator">/</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token atom">f</span><span class="token operator">/</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span>
<span class="token operator">-</span><span class="token function">export</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token atom">x</span><span class="token operator">/</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span>         <span class="token comment">% multiple export attributes can exist</span>

<span class="token comment">%% You can "import" functions from another module, but</span>
<span class="token comment">%% for clarity's sake (and because there's no namespaces)</span>
<span class="token comment">%% nobody really does that</span>
<span class="token operator">-</span><span class="token function">import</span><span class="token punctuation">(</span><span class="token atom">module</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token atom">y</span><span class="token operator">/</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span>

<span class="token comment">%% .hrl files contain headers, and are imported directly</span>
<span class="token comment">%% within the module.</span>
<span class="token comment">%% The following includes a private header file from src/</span>
<span class="token comment">%% or a public header file from include/ in the current app</span>
<span class="token operator">-</span><span class="token function">include</span><span class="token punctuation">(</span><span class="token string">"some_file.hrl"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>
<span class="token comment">%% The following includes a public header file from the</span>
<span class="token comment">%% include/ file of another application</span>
<span class="token operator">-</span><span class="token function">include_lib</span><span class="token punctuation">(</span><span class="token string">"appname/include/some_file.hrl"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>

<span class="token comment">%% specify an interface you implement:</span>
<span class="token operator">-</span><span class="token function">behaviour</span><span class="token punctuation">(</span><span class="token atom">gen_server</span><span class="token punctuation">)</span><span class="token punctuation">.</span>

<span class="token comment">%% Define a record (a tuple that compilers handles in a</span>
<span class="token comment">%% special way)</span>
<span class="token operator">-</span><span class="token function">record</span><span class="token punctuation">(</span><span class="token atom">struct</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token atom">key</span> <span class="token operator">=</span> <span class="token atom">default</span> <span class="token punctuation">:</span><span class="token punctuation">:</span> <span class="token function">term</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
		 <span class="token atom">other_key</span>     <span class="token punctuation">:</span><span class="token punctuation">:</span> <span class="token atom">undefined</span> <span class="token punctuation">|</span> <span class="token function">integer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span>

<span class="token comment">%% Just C-style macros</span>
<span class="token operator">-</span><span class="token function">define</span><span class="token punctuation">(</span><span class="token variable">VALUE</span><span class="token punctuation">,</span> <span class="token number">42</span><span class="token punctuation">)</span><span class="token punctuation">.</span>        <span class="token comment">% ?VALUE in this module becomes `42'</span>
<span class="token operator">-</span><span class="token function">define</span><span class="token punctuation">(</span><span class="token variable">SQUARE</span><span class="token punctuation">(</span><span class="token variable">X</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token variable">X</span><span class="token operator">*</span><span class="token variable">X</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span> <span class="token comment">% function macro</span>
<span class="token operator">-</span><span class="token function">define</span><span class="token punctuation">(</span><span class="token variable">DBG</span><span class="token punctuation">(</span><span class="token variable">Call</span><span class="token punctuation">)</span><span class="token punctuation">,</span>         <span class="token comment">% a fancy debug macro: ?DBG(2 + 2)</span>
	<span class="token atom">io</span><span class="token punctuation">:</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"DBG: ~s (~p): ~p~n"</span><span class="token punctuation">,</span>
		  <span class="token punctuation">[</span>?<span class="token variable">?Call</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token variable">?MODULE</span><span class="token punctuation">,</span> <span class="token variable">?LINE</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token variable">Call</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>

<span class="token comment">%% Conditionals</span>
<span class="token operator">-</span><span class="token function">ifdef</span><span class="token punctuation">(</span><span class="token variable">MACRO_NAME</span><span class="token punctuation">)</span><span class="token punctuation">.</span>        <span class="token comment">% opposite: -ifndef(MACRO_NAME).</span>
<span class="token operator">-</span><span class="token function">define</span><span class="token punctuation">(</span><span class="token variable">OTHER_MACRO</span><span class="token punctuation">,</span> <span class="token atom">ok</span><span class="token punctuation">)</span><span class="token punctuation">.</span>
<span class="token operator">-</span><span class="token atom">else</span><span class="token punctuation">.</span>                     <span class="token comment">% other option: -elif(NAME).</span>
<span class="token operator">-</span><span class="token function">define</span><span class="token punctuation">(</span><span class="token variable">MACRO_NAME</span><span class="token punctuation">,</span> <span class="token atom">ok</span><span class="token punctuation">)</span><span class="token punctuation">.</span>
<span class="token operator">-</span><span class="token atom">endif</span><span class="token punctuation">.</span>

<span class="token comment">%% Type definitions</span>
<span class="token operator">-</span><span class="token atom">type</span> <span class="token function">my_type</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span><span class="token punctuation">:</span> <span class="token function">number</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">|</span> <span class="token function">boolean</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>
<span class="token operator">-</span><span class="token atom">type</span> <span class="token function">my_container</span><span class="token punctuation">(</span><span class="token variable">T</span><span class="token punctuation">)</span> <span class="token punctuation">:</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token variable">T</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token variable">T</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token function">my_type</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token atom">mod</span><span class="token punctuation">:</span><span class="token function">type</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
<span class="token operator">-</span><span class="token function">export_type</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token atom">my_type</span><span class="token operator">/</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token atom">my_container</span><span class="token operator">/</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span>

<span class="token comment">%% you can also define custom attributes:</span>
<span class="token operator">-</span><span class="token function">my_attribute</span><span class="token punctuation">(</span><span class="token atom">hello_there</span><span class="token punctuation">)</span><span class="token punctuation">.</span>
<span class="token operator">-</span><span class="token function">author</span><span class="token punctuation">(</span><span class="token string">"Duke Erlington"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>

<span class="token comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
<span class="token comment">%%% And now modules for code and functions %%%</span>
<span class="token comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>

<span class="token comment">%% @doc A function with 0 arguments returning an atom</span>
<span class="token operator">-</span><span class="token atom">spec</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token function">term</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span> <span class="token comment">% optional spec</span>
<span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token atom">ok</span><span class="token punctuation">.</span>

<span class="token operator">-</span><span class="token atom">spec</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token function">number</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token function">float</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>
<span class="token function">f</span><span class="token punctuation">(</span><span class="token variable">N</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token variable">N</span> <span class="token operator">+</span> <span class="token number">1.0</span><span class="token punctuation">.</span>

<span class="token comment">%% Pattern matching with clauses</span>
<span class="token function">x</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token comment">% base recursive clause for a list</span>
<span class="token function">x</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token variable">_H</span><span class="token punctuation">|</span><span class="token variable">T</span><span class="token punctuation">]</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token punctuation">[</span><span class="token atom">x</span> <span class="token punctuation">|</span> <span class="token variable">T</span><span class="token punctuation">]</span><span class="token punctuation">.</span> <span class="token comment">% replace list element with `x' atom</span>

<span class="token comment">%% @private variable binding rules</span>
<span class="token function">same_list</span><span class="token punctuation">(</span><span class="token variable">X</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token variable">_</span><span class="token punctuation">|</span><span class="token variable">_</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token variable">X</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token function">same_list</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token function">same_list</span><span class="token punctuation">(</span><span class="token variable">_</span><span class="token punctuation">,</span> <span class="token variable">_</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token boolean">false</span><span class="token punctuation">.</span>

<span class="token comment">%% Operators in the language</span>
<span class="token function">operators</span><span class="token punctuation">(</span><span class="token variable">X</span><span class="token punctuation">,</span> <span class="token variable">Y</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span>
    <span class="token operator">+</span><span class="token variable">X</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token variable">Y</span><span class="token punctuation">,</span> <span class="token comment">% unary</span>
    <span class="token variable">X</span> <span class="token operator">+</span> <span class="token variable">Y</span><span class="token punctuation">,</span> <span class="token variable">X</span> <span class="token operator">-</span> <span class="token variable">Y</span><span class="token punctuation">,</span> <span class="token variable">X</span> <span class="token operator">*</span> <span class="token variable">Y</span><span class="token punctuation">,</span> <span class="token variable">X</span> <span class="token operator">/</span> <span class="token variable">Y</span><span class="token punctuation">,</span>   <span class="token comment">% any numbers</span>
    <span class="token variable">X</span> <span class="token operator">div</span> <span class="token variable">Y</span><span class="token punctuation">,</span> <span class="token variable">X</span> <span class="token operator">rem</span> <span class="token variable">Y</span><span class="token punctuation">,</span>             <span class="token comment">% integers-only</span>
    <span class="token variable">X</span> <span class="token operator">band</span> <span class="token variable">Y</span><span class="token punctuation">,</span> <span class="token variable">X</span> <span class="token operator">bor</span> <span class="token variable">Y</span><span class="token punctuation">,</span> <span class="token variable">X</span> <span class="token operator">bxor</span> <span class="token variable">Y</span><span class="token punctuation">,</span>  <span class="token comment">% binary operators</span>
    <span class="token variable">X</span> <span class="token operator">bsl</span> <span class="token variable">Y</span><span class="token punctuation">,</span> <span class="token variable">X</span> <span class="token operator">bsr</span> <span class="token variable">L</span><span class="token punctuation">,</span>             <span class="token comment">% bit shifting</span>
    <span class="token operator">not</span> <span class="token variable">X</span><span class="token punctuation">,</span>                        <span class="token comment">% boolean not</span>
    <span class="token variable">X</span> <span class="token operator">andalso</span> <span class="token variable">Y</span><span class="token punctuation">,</span> <span class="token variable">X</span> <span class="token operator">orelse</span> <span class="token variable">Y</span><span class="token punctuation">,</span>      <span class="token comment">% shortcircuit boolean operators</span>
    <span class="token variable">X</span> <span class="token operator">&#x3C;</span> <span class="token variable">Y</span><span class="token punctuation">,</span> <span class="token variable">X</span> <span class="token operator">></span> <span class="token variable">Y</span><span class="token punctuation">,</span> <span class="token variable">X</span> <span class="token operator">>=</span> <span class="token variable">Y</span><span class="token punctuation">,</span> <span class="token variable">X</span> <span class="token operator">=</span><span class="token operator">&#x3C;</span> <span class="token variable">Y</span><span class="token punctuation">,</span> <span class="token comment">% comparison</span>
    <span class="token variable">X</span> <span class="token operator">==</span> <span class="token variable">Y</span><span class="token punctuation">,</span> <span class="token variable">X</span> <span class="token operator">/=</span> <span class="token variable">Y</span><span class="token punctuation">,</span>               <span class="token comment">% equality (float == int)</span>
    <span class="token variable">X</span> <span class="token operator">=:=</span> <span class="token variable">Y</span><span class="token punctuation">,</span> <span class="token variable">X</span> <span class="token operator">=/=</span> <span class="token variable">Y</span><span class="token punctuation">,</span>             <span class="token comment">% strict equality (float =/= int)</span>
    <span class="token variable">X</span> <span class="token operator">++</span> <span class="token variable">Y</span><span class="token punctuation">,</span> <span class="token variable">X</span> <span class="token operator">--</span> <span class="token variable">Y</span><span class="token punctuation">,</span>               <span class="token comment">% append Y to X, delete Y from X</span>
    <span class="token variable">X</span> <span class="token operator">!</span> <span class="token variable">Y</span><span class="token punctuation">.</span>                        <span class="token comment">% send message Y to process X</span>

<span class="token comment">%% Using guards. Valid guard expressions at:</span>
<span class="token comment">%% erlang.org/doc/reference_manual/expressions.html#guard-sequences</span>
<span class="token function">comfortable</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token atom">celsius</span><span class="token punctuation">,</span> <span class="token variable">X</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token keyword">when</span> <span class="token variable">X</span> <span class="token operator">>=</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token variable">X</span> <span class="token operator">=</span><span class="token operator">&#x3C;</span> <span class="token number">26</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token comment">% AND clauses</span>
    <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token function">comfortable</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token atom">celsius</span><span class="token punctuation">,</span> <span class="token variable">_</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span>
    <span class="token boolean">false</span><span class="token punctuation">.</span>

<span class="token function">incomfortable</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token atom">celsius</span><span class="token punctuation">,</span> <span class="token variable">X</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token keyword">when</span> <span class="token variable">X</span> <span class="token operator">=</span><span class="token operator">&#x3C;</span> <span class="token number">18</span><span class="token punctuation">;</span> <span class="token variable">X</span> <span class="token operator">>=</span> <span class="token number">26</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token comment">% OR clauses</span>
    <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token function">incomfortable</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token atom">celsius</span><span class="token punctuation">,</span> <span class="token variable">_</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span>
    <span class="token boolean">false</span><span class="token punctuation">.</span>

<span class="token comment">%% difference with 'andalso' and 'orelse'</span>
<span class="token function">conds</span><span class="token punctuation">(</span><span class="token variable">X</span><span class="token punctuation">)</span> <span class="token keyword">when</span> <span class="token punctuation">(</span><span class="token function">is_number</span><span class="token punctuation">(</span><span class="token variable">X</span><span class="token punctuation">)</span> <span class="token operator">orelse</span> <span class="token function">is_integer</span><span class="token punctuation">(</span><span class="token variable">X</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	       <span class="token operator">andalso</span> <span class="token variable">X</span> <span class="token operator">&#x3C;</span> <span class="token number">9</span> <span class="token operator">-</span><span class="token operator">></span>
    <span class="token comment">%% equivalent (A AND B) OR C</span>
    <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token function">conds</span><span class="token punctuation">(</span><span class="token variable">X</span><span class="token punctuation">)</span> <span class="token keyword">when</span> <span class="token function">is_number</span><span class="token punctuation">(</span><span class="token variable">X</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token function">is_integer</span><span class="token punctuation">(</span><span class="token variable">X</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token variable">X</span> <span class="token operator">&#x3C;</span> <span class="token number">9</span> <span class="token operator">-</span><span class="token operator">></span>
    <span class="token comment">%% - parentheses impossible with , or ;</span>
    <span class="token comment">%% - equivalent to A OR (B AND C)</span>
    <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token function">conds</span><span class="token punctuation">(</span><span class="token variable">T</span><span class="token punctuation">)</span> <span class="token keyword">when</span> <span class="token function">element</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token variable">T</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token atom">celsius</span><span class="token punctuation">;</span> <span class="token function">is_integer</span><span class="token punctuation">(</span><span class="token variable">T</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span>
    <span class="token comment">%% element/2 extracts an element from a tuple. If `T' is</span>
    <span class="token comment">%% not a tuple, the call fails and `is_integer/1' is tried</span>
    <span class="token comment">%% instead</span>
    <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token function">conds</span><span class="token punctuation">(</span><span class="token variable">T</span><span class="token punctuation">)</span> <span class="token keyword">when</span> <span class="token function">element</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token variable">T</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token atom">celsius</span> <span class="token operator">orelse</span> <span class="token function">is_integer</span><span class="token punctuation">(</span><span class="token variable">T</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span>
    <span class="token comment">%% this can never work: if element/2 fails, the whole</span>
    <span class="token comment">%% `orlese' expressoin fails and `is_integer/1' is skipped</span>
    <span class="token boolean">true</span><span class="token punctuation">.</span>

<span class="token comment">%% Conditionals</span>
<span class="token function">conditional</span><span class="token punctuation">(</span><span class="token quoted-atom atom">'if'</span><span class="token punctuation">,</span> <span class="token variable">Light</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span>
    <span class="token keyword">if</span> <span class="token variable">Light</span> <span class="token operator">==</span> <span class="token atom">red</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token atom">stop</span><span class="token punctuation">;</span>
       <span class="token variable">Light</span> <span class="token operator">==</span> <span class="token atom">green</span><span class="token punctuation">;</span> <span class="token variable">Light</span> <span class="token operator">==</span> <span class="token atom">yellow</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token atom">go_fast</span><span class="token punctuation">;</span>
       <span class="token boolean">true</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token atom">burnout</span> <span class="token comment">% else clause!</span>
    <span class="token keyword">end</span><span class="token punctuation">;</span>
<span class="token function">conditional</span><span class="token punctuation">(</span><span class="token quoted-atom atom">'case'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token variable">Light</span><span class="token punctuation">,</span> <span class="token variable">IsLate</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span>
    <span class="token keyword">case</span> <span class="token variable">Light</span> <span class="token keyword">of</span>
	<span class="token atom">green</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token atom">go</span><span class="token punctuation">;</span>
	<span class="token atom">yellow</span> <span class="token keyword">when</span> <span class="token variable">IsLate</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token atom">go_fast</span><span class="token punctuation">;</span>
	<span class="token variable">_</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token atom">stop</span>
    <span class="token keyword">end</span><span class="token punctuation">;</span>
<span class="token function">conditional</span><span class="token punctuation">(</span><span class="token atom">pattern</span><span class="token punctuation">,</span> <span class="token atom">green</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token atom">go</span><span class="token punctuation">;</span>
<span class="token function">conditional</span><span class="token punctuation">(</span><span class="token atom">pattern</span><span class="token punctuation">,</span> <span class="token atom">yellow</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token atom">slow</span><span class="token punctuation">;</span>
<span class="token function">conditional</span><span class="token punctuation">(</span><span class="token atom">pattern</span><span class="token punctuation">,</span> <span class="token atom">red</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token atom">stop</span><span class="token punctuation">.</span>

<span class="token comment">%% List and binary comprehensions</span>
<span class="token function">comp</span><span class="token punctuation">(</span><span class="token variable">ListA</span><span class="token punctuation">,</span> <span class="token variable">ListB</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span>
    <span class="token punctuation">[</span><span class="token variable">X</span><span class="token operator">*</span><span class="token variable">X</span> <span class="token punctuation">|</span><span class="token punctuation">|</span> <span class="token variable">X</span> <span class="token operator">&#x3C;</span><span class="token operator">-</span> <span class="token variable">ListA</span><span class="token punctuation">,</span> <span class="token variable">X</span> <span class="token operator">rem</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">% square even numbers</span>
    <span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token variable">X</span><span class="token punctuation">,</span><span class="token variable">Y</span><span class="token punctuation">}</span> <span class="token punctuation">|</span><span class="token punctuation">|</span> <span class="token variable">X</span> <span class="token operator">&#x3C;</span><span class="token operator">-</span> <span class="token variable">ListA</span><span class="token punctuation">,</span> <span class="token variable">Y</span> <span class="token operator">&#x3C;</span><span class="token operator">-</span> <span class="token variable">ListB</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">% all possible pairs</span>
    <span class="token punctuation">&#x3C;&#x3C;</span> <span class="token punctuation">&#x3C;&#x3C;</span><span class="token variable">X</span><span class="token punctuation">:</span><span class="token number">8</span><span class="token punctuation">>></span> <span class="token punctuation">|</span><span class="token punctuation">|</span> <span class="token variable">X</span> <span class="token operator">&#x3C;</span><span class="token operator">-</span> <span class="token variable">ListA</span> <span class="token punctuation">>></span><span class="token punctuation">.</span>       <span class="token comment">% turn list into bytes</span>
<span class="token function">comp</span><span class="token punctuation">(</span><span class="token variable">BinA</span><span class="token punctuation">,</span> <span class="token variable">BinB</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token comment">% now with binaries</span>
    <span class="token punctuation">&#x3C;&#x3C;</span> <span class="token punctuation">&#x3C;&#x3C;</span><span class="token variable">X</span><span class="token operator">*</span><span class="token variable">X</span><span class="token punctuation">:</span><span class="token number">32</span><span class="token punctuation">>></span> <span class="token punctuation">|</span><span class="token punctuation">|</span> <span class="token punctuation">&#x3C;&#x3C;</span><span class="token variable">X</span><span class="token punctuation">:</span><span class="token number">8</span><span class="token punctuation">>></span> <span class="token operator">&#x3C;=</span> <span class="token variable">Bin</span><span class="token punctuation">,</span> <span class="token variable">X</span> <span class="token operator">rem</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span> <span class="token punctuation">>></span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token variable">X</span><span class="token punctuation">,</span><span class="token variable">Y</span><span class="token punctuation">}</span> <span class="token punctuation">|</span><span class="token punctuation">|</span> <span class="token punctuation">&#x3C;&#x3C;</span><span class="token variable">X</span><span class="token punctuation">:</span><span class="token number">32</span><span class="token punctuation">>></span> <span class="token operator">&#x3C;=</span> <span class="token variable">BinA</span><span class="token punctuation">,</span> <span class="token punctuation">&#x3C;&#x3C;</span><span class="token variable">Y</span><span class="token punctuation">:</span><span class="token number">8</span><span class="token punctuation">>></span> <span class="token operator">&#x3C;=</span> <span class="token variable">BinB</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token variable">X</span> <span class="token punctuation">|</span><span class="token punctuation">|</span> <span class="token punctuation">&#x3C;&#x3C;</span><span class="token variable">X</span><span class="token punctuation">:</span><span class="token number">8</span><span class="token punctuation">>></span> <span class="token operator">&#x3C;=</span> <span class="token variable">BinA</span><span class="token punctuation">]</span><span class="token punctuation">.</span>

<span class="token comment">%% Anonymous and higher order functions</span>
<span class="token function">higher_order</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span>
    <span class="token variable">If</span> <span class="token operator">=</span> <span class="token keyword">fun</span><span class="token punctuation">(</span><span class="token variable">Light</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token function">conditional</span><span class="token punctuation">(</span><span class="token quoted-atom atom">'if'</span><span class="token punctuation">,</span> <span class="token variable">Light</span><span class="token punctuation">)</span> <span class="token keyword">end</span><span class="token punctuation">,</span>
    <span class="token variable">Case</span> <span class="token operator">=</span> <span class="token keyword">fun</span><span class="token punctuation">(</span><span class="token variable">Light</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token function">conditional</span><span class="token punctuation">(</span><span class="token quoted-atom atom">'case'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token variable">Light</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token keyword">end</span><span class="token punctuation">,</span>
    <span class="token atom">lists</span><span class="token punctuation">:</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token variable">If</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token atom">green</span><span class="token punctuation">,</span> <span class="token atom">yellow</span><span class="token punctuation">,</span> <span class="token atom">red</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token atom">lists</span><span class="token punctuation">:</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token variable">Case</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token atom">green</span><span class="token punctuation">,</span> <span class="token atom">yellow</span><span class="token punctuation">,</span> <span class="token atom">red</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token variable">If</span><span class="token punctuation">(</span><span class="token atom">red</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">% can be called literally</span>
    <span class="token atom">lists</span><span class="token punctuation">:</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">fun</span><span class="token punctuation">(</span><span class="token variable">X</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token variable">X</span><span class="token operator">*</span><span class="token variable">X</span> <span class="token keyword">end</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span>

<span class="token function">try_catch</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span>
    <span class="token keyword">try</span>
	<span class="token function">some_call</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>     <span class="token comment">% exceptions in this call are caught as well</span>
	<span class="token punctuation">{</span><span class="token atom">ok</span><span class="token punctuation">,</span> <span class="token atom">val</span><span class="token punctuation">}</span><span class="token punctuation">,</span>       <span class="token comment">% common good return value to pattern match</span>
	<span class="token punctuation">{</span><span class="token atom">error</span><span class="token punctuation">,</span> <span class="token atom">reason</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">% common bad return value to pattern match</span>
	<span class="token comment">% any of these expression aborts the execution flow</span>
	<span class="token function">throw</span><span class="token punctuation">(</span><span class="token atom">reason1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">% non-local returns, internal exceptions</span>
	<span class="token function">error</span><span class="token punctuation">(</span><span class="token atom">reason2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">% unfixable error</span>
	<span class="token function">exit</span><span class="token punctuation">(</span><span class="token atom">reason3</span><span class="token punctuation">)</span>   <span class="token comment">% the process should terminate</span>
    <span class="token keyword">of</span>  <span class="token comment">% this section is optional: exceptions here are not caught</span>
	<span class="token punctuation">{</span><span class="token atom">ok</span><span class="token punctuation">,</span> <span class="token variable">V</span><span class="token punctuation">}</span> <span class="token operator">-</span><span class="token operator">></span>
	    <span class="token function">do_something</span><span class="token punctuation">(</span><span class="token variable">V</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	    <span class="token function">try_catch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">% safely recurse without blowing stack</span>
	<span class="token punctuation">{</span><span class="token atom">error</span><span class="token punctuation">,</span> <span class="token variable">R</span><span class="token punctuation">}</span> <span class="token operator">-</span><span class="token operator">></span>
	    <span class="token punctuation">{</span><span class="token atom">error</span><span class="token punctuation">,</span> <span class="token variable">R</span><span class="token punctuation">}</span> <span class="token comment">% just return</span>
    <span class="token keyword">catch</span> <span class="token comment">% this section is optional: various patterns</span>
	<span class="token atom">throw</span><span class="token punctuation">:</span><span class="token atom">reason1</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token atom">handled</span><span class="token punctuation">;</span>
	<span class="token atom">reason2</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token atom">oops</span><span class="token punctuation">;</span> <span class="token comment">% never matches, `throw' is implicit type</span>
	<span class="token atom">error</span><span class="token punctuation">:</span><span class="token atom">reason2</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token atom">handled</span><span class="token punctuation">;</span>
	<span class="token atom">exit</span><span class="token punctuation">:</span><span class="token atom">reason3</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token atom">handled</span><span class="token punctuation">;</span>
	<span class="token atom">throw</span><span class="token punctuation">:</span><span class="token variable">_</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token atom">wildcard_throws</span><span class="token punctuation">;</span>
	<span class="token variable">E</span><span class="token punctuation">:</span><span class="token variable">R</span> <span class="token keyword">when</span> <span class="token function">is_error</span><span class="token punctuation">(</span><span class="token variable">E</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token atom">any_error</span><span class="token punctuation">;</span>
	<span class="token variable">_</span><span class="token punctuation">:</span><span class="token variable">_</span><span class="token punctuation">:</span><span class="token variable">S</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token punctuation">{</span><span class="token atom">stacktrace</span><span class="token punctuation">,</span> <span class="token variable">S</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">% extract stacktrace</span>
    <span class="token keyword">after</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token comment">% this is an optional 'finally' block</span>
	<span class="token atom">finally</span>
    <span class="token keyword">end</span><span class="token punctuation">.</span>
</code></pre>
<h2 id="processes-and-signal"><a aria-hidden="true" class="anchor-heading" href="#processes-and-signal"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Processes and Signal</h2>
<pre class="language-erlang"><code class="language-erlang"><span class="token comment">%% Start a new process</span>
<span class="token variable">Pid</span> <span class="token operator">=</span> <span class="token function">spawn</span><span class="token punctuation">(</span><span class="token keyword">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token function">some_loop</span><span class="token punctuation">(</span><span class="token variable">Arg</span><span class="token punctuation">)</span> <span class="token keyword">end</span><span class="token punctuation">)</span>
<span class="token variable">Pid</span> <span class="token operator">=</span> <span class="token function">spawn</span><span class="token punctuation">(</span><span class="token quoted-atom atom">'name@remote.host'</span><span class="token punctuation">,</span> <span class="token keyword">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token function">some_loop</span><span class="token punctuation">(</span><span class="token variable">Arg</span><span class="token punctuation">)</span> <span class="token keyword">end</span><span class="token punctuation">)</span>
<span class="token variable">Pid</span> <span class="token operator">=</span> <span class="token function">spawn</span><span class="token punctuation">(</span><span class="token atom">some_module</span><span class="token punctuation">,</span> <span class="token atom">some_loop</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token variable">Arg</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token variable">Pid</span> <span class="token operator">=</span> <span class="token function">spawn</span><span class="token punctuation">(</span><span class="token quoted-atom atom">'name@remote.host'</span><span class="token punctuation">,</span> <span class="token atom">some_module</span><span class="token punctuation">,</span> <span class="token atom">some_loop</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token variable">Arg</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment">%% Spawn a linked process</span>
<span class="token variable">Pid</span> <span class="token operator">=</span> <span class="token function">spawn_link</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span> <span class="token comment">% 1-4 arguments as with spawn/1-4</span>
<span class="token comment">%% Spawn a monitored process atomically</span>
<span class="token punctuation">{</span><span class="token variable">Pid</span><span class="token punctuation">,</span> <span class="token variable">Ref</span><span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">spawn_monitor</span><span class="token punctuation">(</span><span class="token keyword">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token function">some_loop</span><span class="token punctuation">(</span><span class="token variable">Arg</span><span class="token punctuation">)</span> <span class="token keyword">end</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span><span class="token variable">Pid</span><span class="token punctuation">,</span> <span class="token variable">Ref</span><span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">spawn_monitor</span><span class="token punctuation">(</span><span class="token atom">some_module</span><span class="token punctuation">,</span> <span class="token atom">some_loop</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token variable">Arg</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment">%% Spawn with fancy options</span>
<span class="token function">spawn_opt</span><span class="token punctuation">(</span><span class="token variable">Fun</span><span class="token punctuation">,</span> <span class="token variable">Opts</span><span class="token punctuation">)</span>
<span class="token function">spawn_opt</span><span class="token punctuation">(</span><span class="token variable">Node</span><span class="token punctuation">,</span> <span class="token variable">Fun</span><span class="token punctuation">,</span> <span class="token variable">Opts</span><span class="token punctuation">)</span>
<span class="token function">spawn_opt</span><span class="token punctuation">(</span><span class="token variable">Mod</span><span class="token punctuation">,</span> <span class="token variable">Fun</span><span class="token punctuation">,</span> <span class="token variable">Args</span><span class="token punctuation">,</span> <span class="token variable">Opts</span><span class="token punctuation">)</span>
<span class="token function">spawn_opt</span><span class="token punctuation">(</span><span class="token variable">Node</span><span class="token punctuation">,</span> <span class="token variable">Mod</span><span class="token punctuation">,</span> <span class="token variable">Fun</span><span class="token punctuation">,</span> <span class="token variable">Args</span><span class="token punctuation">,</span> <span class="token variable">Opts</span><span class="token punctuation">)</span>
<span class="token comment">%% Options must respect the following spec; many are advanced</span>
<span class="token punctuation">[</span><span class="token atom">link</span> <span class="token punctuation">|</span> <span class="token atom">monitor</span> <span class="token punctuation">|</span>
 <span class="token punctuation">{</span><span class="token atom">priority</span><span class="token punctuation">,</span> <span class="token atom">low</span> <span class="token punctuation">|</span> <span class="token atom">normal</span> <span class="token punctuation">|</span> <span class="token atom">high</span> <span class="token punctuation">|</span> <span class="token atom">max</span><span class="token punctuation">}</span> <span class="token punctuation">|</span>    <span class="token comment">% don't touch</span>
 <span class="token punctuation">{</span><span class="token atom">fullsweep_after</span><span class="token punctuation">,</span> <span class="token function">integer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">}</span> <span class="token punctuation">|</span>        <span class="token comment">% full GC</span>
 <span class="token punctuation">{</span><span class="token atom">min_heap_size</span><span class="token punctuation">,</span> <span class="token variable">Words</span> <span class="token punctuation">:</span><span class="token punctuation">:</span> <span class="token function">integer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">}</span> <span class="token punctuation">|</span> <span class="token comment">% perf tuning</span>
 <span class="token punctuation">{</span><span class="token atom">min_bin_heap_size</span><span class="token punctuation">,</span> <span class="token variable">Words</span><span class="token punctuation">}</span> <span class="token punctuation">|</span>
 <span class="token punctuation">{</span><span class="token atom">max_heap_size</span><span class="token punctuation">,</span>                    <span class="token comment">% heap size after which</span>
   <span class="token variable">Words</span> <span class="token punctuation">|</span>                          <span class="token comment">% the process may be killed. Use</span>
   <span class="token punctuation">#</span><span class="token punctuation">{</span><span class="token atom">size</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">integer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">,</span>        <span class="token comment">% to indirectly set max queue sizes</span>
     <span class="token atom">kill</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">boolean</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
     <span class="token atom">error_logger</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">boolean</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span>

<span class="token comment">%% send an exit signal to a process</span>
<span class="token function">exit</span><span class="token punctuation">(</span><span class="token variable">Pid</span><span class="token punctuation">,</span> <span class="token variable">Reason</span><span class="token punctuation">)</span>

<span class="token comment">%% Receive a message</span>
<span class="token keyword">receive</span>
    <span class="token variable">Pattern1</span> <span class="token keyword">when</span> <span class="token variable">OptionalGuard1</span> <span class="token operator">-</span><span class="token operator">></span>
	<span class="token variable">Expression1</span><span class="token punctuation">;</span>
    <span class="token variable">Pattern2</span> <span class="token keyword">when</span> <span class="token variable">OptionalGuard2</span> <span class="token operator">-</span><span class="token operator">></span>
	<span class="token variable">Expression2</span>
<span class="token keyword">after</span> <span class="token variable">Milliseconds</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token comment">% optional</span>
    <span class="token variable">Expression</span>
<span class="token keyword">end</span>

<span class="token comment">%% Naming processes</span>
<span class="token boolean">true</span> <span class="token operator">=</span> <span class="token function">register</span><span class="token punctuation">(</span><span class="token atom">atom_name</span><span class="token punctuation">,</span> <span class="token variable">Pid</span><span class="token punctuation">)</span>
<span class="token boolean">true</span> <span class="token operator">=</span> <span class="token function">unregister</span><span class="token punctuation">(</span><span class="token atom">atom_name</span><span class="token punctuation">)</span>
<span class="token variable">Pid</span> <span class="token punctuation">|</span> <span class="token atom">undefined</span> <span class="token operator">=</span> <span class="token function">whereis</span><span class="token punctuation">(</span><span class="token atom">atom_name</span><span class="token punctuation">)</span>

<span class="token comment">%% Monitor</span>
<span class="token variable">Ref</span> <span class="token operator">=</span> <span class="token atom">erlang</span><span class="token punctuation">:</span><span class="token function">monitor</span><span class="token punctuation">(</span><span class="token atom">process</span><span class="token punctuation">,</span> <span class="token variable">Pid</span><span class="token punctuation">)</span>
<span class="token boolean">true</span> <span class="token operator">=</span> <span class="token atom">erlang</span><span class="token punctuation">:</span><span class="token function">demonitor</span><span class="token punctuation">(</span><span class="token variable">Ref</span><span class="token punctuation">)</span>
<span class="token boolean">true</span> <span class="token punctuation">|</span> <span class="token boolean">false</span> <span class="token operator">=</span> <span class="token atom">erlang</span><span class="token punctuation">:</span><span class="token function">demonitor</span><span class="token punctuation">(</span><span class="token variable">Ref</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token atom">flush</span> <span class="token punctuation">|</span> <span class="token atom">info</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">%% Links</span>
<span class="token function">link</span><span class="token punctuation">(</span><span class="token variable">Pid</span><span class="token punctuation">)</span>
<span class="token function">unlink</span><span class="token punctuation">(</span><span class="token variable">Pid</span><span class="token punctuation">)</span>
<span class="token function">process_info</span><span class="token punctuation">(</span><span class="token atom">trap_exit</span><span class="token punctuation">,</span> <span class="token boolean">true</span> <span class="token punctuation">|</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
</code></pre>
<h2 id="behaviours"><a aria-hidden="true" class="anchor-heading" href="#behaviours"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Behaviours</h2>