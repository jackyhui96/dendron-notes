<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><link rel="icon" href="/favicon.ico"/><title>Iptables</title><meta name="robots" content="index,follow"/><meta name="googlebot" content="index,follow"/><meta name="description" content="Personal knowledge space"/><meta property="og:title" content="Iptables"/><meta property="og:description" content="Personal knowledge space"/><meta property="og:url" content="https://jackyhui96.github.io/dendron-notes/notes/yPSbfSUiv5mdVJHX2LaBF/"/><meta property="og:type" content="article"/><meta property="article:published_time" content="6/26/2021"/><meta property="article:modified_time" content="6/26/2021"/><link rel="canonical" href="https://jackyhui96.github.io/dendron-notes/notes/yPSbfSUiv5mdVJHX2LaBF/"/><meta name="next-head-count" content="14"/><link rel="preload" href="/dendron-notes/_next/static/css/311cdff2e267b2b9.css" as="style"/><link rel="stylesheet" href="/dendron-notes/_next/static/css/311cdff2e267b2b9.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/dendron-notes/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/dendron-notes/_next/static/chunks/webpack-c34b18ce8e2d9d8e.js" defer=""></script><script src="/dendron-notes/_next/static/chunks/framework-bb5c596eafb42b22.js" defer=""></script><script src="/dendron-notes/_next/static/chunks/main-e23e59a6994e534a.js" defer=""></script><script src="/dendron-notes/_next/static/chunks/pages/_app-0346e2e0ce770356.js" defer=""></script><script src="/dendron-notes/_next/static/chunks/155-3a6c02d7e042edb7.js" defer=""></script><script src="/dendron-notes/_next/static/chunks/pages/notes/%5Bid%5D-dc9b1cbe134a7143.js" defer=""></script><script src="/dendron-notes/_next/static/n99zhAM-gKPmAIazFHerv/_buildManifest.js" defer=""></script><script src="/dendron-notes/_next/static/n99zhAM-gKPmAIazFHerv/_ssgManifest.js" defer=""></script><script src="/dendron-notes/_next/static/n99zhAM-gKPmAIazFHerv/_middlewareManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><section class="ant-layout" style="width:100%;min-height:100%"><header class="ant-layout-header" style="position:fixed;isolation:isolate;z-index:1;width:100%;border-bottom:1px solid #d4dadf;height:64px;padding:0 24px 0 2px"><div class="ant-row ant-row-center" style="max-width:992px;justify-content:space-between;margin:0 auto"><div style="display:flex" class="ant-col ant-col-xs-20 ant-col-sm-4"></div><div class="ant-col gutter-row ant-col-xs-0 ant-col-sm-20 ant-col-md-20 ant-col-lg-19"><div class="ant-select ant-select-lg ant-select-auto-complete ant-select-single ant-select-allow-clear ant-select-show-search" style="width:100%"><div class="ant-select-selector"><span class="ant-select-selection-search"><input type="search" autoComplete="off" class="ant-select-selection-search-input" role="combobox" aria-haspopup="listbox" aria-owns="undefined_list" aria-autocomplete="list" aria-controls="undefined_list" aria-activedescendant="undefined_list_0" value=""/></span><span class="ant-select-selection-placeholder">For full text search please use the &#x27;?&#x27; prefix. e.g. ? Onboarding</span></div></div></div><div style="display:none;align-items:center;justify-content:center" class="ant-col ant-col-xs-4 ant-col-sm-4 ant-col-md-0 ant-col-lg-0"><span role="img" aria-label="menu" style="font-size:24px" tabindex="-1" class="anticon anticon-menu"><svg viewBox="64 64 896 896" focusable="false" data-icon="menu" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"></path></svg></span></div></div></header><section class="ant-layout site-layout" style="margin-top:64px"><section class="ant-layout site-layout" style="flex-direction:row"><section class="ant-layout site-layout-sidebar" style="flex:0 0 auto;width:calc(max((100% - 992px) / 2, 0px) + 200px);min-width:200px;padding-left:calc((100% - 992px) / 2)"><aside class="ant-layout-sider ant-layout-sider-dark" style="position:fixed;overflow:auto;height:calc(100vh - 64px);flex:0 0 200px;max-width:200px;min-width:200px;width:200px"><div class="ant-layout-sider-children"></div></aside></section><section class="ant-layout side-layout-main" style="max-width:1200px;display:initial"><main class="ant-layout-content main-content" role="main" style="padding:0 24px"><div class="ant-row"><div class="ant-col ant-col-24"><div class="ant-row" style="margin-left:-10px;margin-right:-10px"><div style="padding-left:10px;padding-right:10px" class="ant-col ant-col-xs-24 ant-col-md-18"><div><h1 id="iptables"><a aria-hidden="true" class="anchor-heading" href="#iptables"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Iptables</h1>
<h1 id="overview"><a aria-hidden="true" class="anchor-heading" href="#overview"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Overview</h1>
<ul>
<li>iptables - administration tool for IPv4 packet filtering and NAT</li>
</ul>
<h1 id="synopsis"><a aria-hidden="true" class="anchor-heading" href="#synopsis"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Synopsis</h1>
<pre><code>iptables [-t table] -[AD] chain rule-specification [options]
</code></pre>
<h1 id="options"><a aria-hidden="true" class="anchor-heading" href="#options"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Options</h1>
<h2 id="flags"><a aria-hidden="true" class="anchor-heading" href="#flags"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Flags</h2>
<ul>
<li><code>-t | --table &#x3C;table></code>: This option specifies the packet matching table which the command should operate on.</li>
</ul>
<h2 id="tables"><a aria-hidden="true" class="anchor-heading" href="#tables"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Tables</h2>
<p>The tables are as follows:</p>
<p><code>filter</code>:
This is the <strong>default table</strong> (if no <code>-t</code> option is passed).</p>
<ul>
<li>INPUT (for packets destined to local sockets)</li>
<li>FORWARD (for packets being routed through the box)</li>
<li>OUTPUT (for locally-generated packets)</li>
</ul>
<p><code>nat</code>:
This table is consulted when a packet that creates a new connection is encountered.</p>
<ul>
<li>PREROUTING (for altering packets as soon as they come in)</li>
<li>OUTPUT (for altering locally-generated packets before routing)</li>
<li>POSTROUTING (for altering packets as they are about to go out)</li>
</ul>
<p><code>mangle</code>:
This table is used for specialized packet alteration. Until kernel 2.4.17 it had two built-in chains: </p>
<ul>
<li>PREROUTING (for altering incoming packets before routing)</li>
<li>OUTPUT (for altering locally-generated packets before routing). </li>
</ul>
<p>Since kernel 2.4.18, three other built-in chains are also supported: </p>
<ul>
<li>INPUT (for packets coming into the box itself)</li>
<li>FORWARD (for altering packets being routed through the box)</li>
<li>POSTROUTING (for altering packets as they are about to go out)</li>
</ul>
<p><code>raw</code>:
This table is used mainly for configuring exemptions from connection tracking in combination with the NOTRACK target. It registers at the netfilter hooks with higher priority and is thus called before ip_conntrack, or any other IP tables.</p>
<ul>
<li>PREROUTING (for packets arriving via any network interface)</li>
<li>OUTPUT (for packets generated by local processes)</li>
</ul>
<h1 id="examples"><a aria-hidden="true" class="anchor-heading" href="#examples"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Examples</h1>
<pre class="language-sh"><code class="language-sh">## List Rules
iptables -L --line-numbers

## List Rules in nat table
sudo iptables -t nat -L -n

## Delete a rule by number
iptables -D [CHAIN NAME] [RULE NUMBER]
## e.g. Delete 11th rule at the "FORWARD" chain.
iptables -D FORWARD 11

## Port forward to another IP
## TCP
iptables -t nat -I PREROUTING -p tcp -m tcp --dst &#x3C;node_a> --dport &#x3C;port_a>[:&#x3C;port_b>] -j DNAT --to-destination &#x3C;node_b>:&#x3C;port_a>[-&#x3C;port_b>]
iptables -t nat -A POSTROUTING -m tcp -p tcp --dst &#x3C;node_b> --dport &#x3C;port_a>[:&#x3C;port_b>] -j SNAT --to-source &#x3C;node_a>
## Not sure if need the below
iptables -A FORWARD -m tcp -p tcp --dst &#x3C;node_b> --dport &#x3C;port_a>:&#x3C;port_b> -j ACCEPT
## e.g. NodeA (192.168.0.3:31000-31999) -> NodeB (172.20.0.11:31000-31999)
iptables -t nat -I PREROUTING -p tcp -m tcp --dst 192.168.0.3 --dport 31000:31999 -j DNAT --to-destination 172.20.0.11:31000-31999
iptables -t nat -A POSTROUTING -m tcp -p tcp --dst 172.20.0.11 --dport 31000:31999 -j SNAT --to-source 192.168.0.3
iptables -A FORWARD -m tcp -p tcp --dst 172.20.0.11 --dport  31000:31999 -j ACCEPT
## Another example with masqerade: 3124 -> 1.1.1.1:3000
iptables -t nat -A PREROUTING -p tcp --dport 3124 -j DNAT --to-destination 1.1.1.1:3000
iptables -t nat -A POSTROUTING -j MASQUERADE
</code></pre>
<h1 id="other-notes"><a aria-hidden="true" class="anchor-heading" href="#other-notes"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Other Notes</h1>
<h2 id="ip-forwarding"><a aria-hidden="true" class="anchor-heading" href="#ip-forwarding"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>IP Forwarding</h2>
<p>NAT uses IP forwarding and by default it’s not enabled in the kernel parameters</p>
<h3 id="check-if-ip-forwarding-is-enabled"><a aria-hidden="true" class="anchor-heading" href="#check-if-ip-forwarding-is-enabled"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Check if IP forwarding is enabled</h3>
<pre class="language-sh"><code class="language-sh">## CentOS/RHEL
sysctl net.ipv4.ip_forward
## Debian:
sudo sysctl net.ipv4.ip_forward
## Return: net.ipv4.ip_forward = 0   # where 0 means disabled
net.ipv4.ip_forward = 0
</code></pre>
<h3 id="enable-ip-forwarding"><a aria-hidden="true" class="anchor-heading" href="#enable-ip-forwarding"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Enable IP forwarding</h3>
<pre class="language-sh"><code class="language-sh">### To enable IP persistently (survives a reboot):
## CentOS/RHEL:
echo "net.ipv4.ip_forward = 1"|sudo tee /etc/sysctl.d/99-ipforward.conf
## Debian:
sudo sed -i 's/#net.ipv4.ip_forward=1/net.ipv4.ip_forward=1/g' /etc/sysctl.conf

### To activate the changes immediately afer making the aboves changes:
## CentOS/RHEL:
sudo sysctl -p /etc/sysctl.d/99-ipforward.conf
## Debian:
sudo sysctl -p
</code></pre></div></div><div style="padding-left:10px;padding-right:10px" class="ant-col ant-col-xs-0 ant-col-md-6"><div><div class=""><div class="ant-anchor-wrapper dendron-toc" style="max-height:calc(100vh - 64px);z-index:1"><div class="ant-anchor"><div class="ant-anchor-ink"><span class="ant-anchor-ink-ball"></span></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#overview" title="Overview">Overview</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#synopsis" title="Synopsis">Synopsis</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#options" title="Options">Options</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#flags" title="Flags">Flags</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#tables" title="Tables">Tables</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#examples" title="Examples">Examples</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#other-notes" title="Other Notes">Other Notes</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#ip-forwarding" title="IP Forwarding">IP Forwarding</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#check-if-ip-forwarding-is-enabled" title="Check if IP forwarding is enabled">Check if IP forwarding is enabled</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#enable-ip-forwarding" title="Enable IP forwarding">Enable IP forwarding</a></div></div></div></div></div></div></div></div></div></main><div class="ant-divider ant-divider-horizontal" role="separator"></div><footer class="ant-layout-footer" style="padding:0 24px 24px"></footer></section></section></section></section></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"note":{"id":"yPSbfSUiv5mdVJHX2LaBF","title":"Iptables","desc":"","updated":1624740148102,"created":1624732067440,"custom":{},"fname":"cli.iptables","type":"note","vault":{"fsPath":".","name":"vault","selfContained":true},"contentHash":"8dbb813d733ef7ad6420b9ff78d6d7d7","links":[],"anchors":{"overview":{"type":"header","text":"Overview","value":"overview","line":8,"column":0,"depth":1},"synopsis":{"type":"header","text":"Synopsis","value":"synopsis","line":11,"column":0,"depth":1},"options":{"type":"header","text":"Options","value":"options","line":16,"column":0,"depth":1},"flags":{"type":"header","text":"Flags","value":"flags","line":18,"column":0,"depth":2},"tables":{"type":"header","text":"Tables","value":"tables","line":21,"column":0,"depth":2},"examples":{"type":"header","text":"Examples","value":"examples","line":51,"column":0,"depth":1},"other-notes":{"type":"header","text":"Other Notes","value":"other-notes","line":79,"column":0,"depth":1},"ip-forwarding":{"type":"header","text":"IP Forwarding","value":"ip-forwarding","line":81,"column":0,"depth":2},"check-if-ip-forwarding-is-enabled":{"type":"header","text":"Check if IP forwarding is enabled","value":"check-if-ip-forwarding-is-enabled","line":84,"column":0,"depth":3},"enable-ip-forwarding":{"type":"header","text":"Enable IP forwarding","value":"enable-ip-forwarding","line":94,"column":0,"depth":3}},"children":[],"parent":"132fe0fe-fc74-4dbe-982a-9dcac677f664","data":{},"schema":{"schemaId":"cli","moduleId":"cli"}},"body":"\u003ch1 id=\"iptables\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#iptables\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eIptables\u003c/h1\u003e\n\u003ch1 id=\"overview\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#overview\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eOverview\u003c/h1\u003e\n\u003cul\u003e\n\u003cli\u003eiptables - administration tool for IPv4 packet filtering and NAT\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch1 id=\"synopsis\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#synopsis\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eSynopsis\u003c/h1\u003e\n\u003cpre\u003e\u003ccode\u003eiptables [-t table] -[AD] chain rule-specification [options]\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch1 id=\"options\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#options\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eOptions\u003c/h1\u003e\n\u003ch2 id=\"flags\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#flags\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eFlags\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003e-t | --table \u0026#x3C;table\u003e\u003c/code\u003e: This option specifies the packet matching table which the command should operate on.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"tables\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#tables\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eTables\u003c/h2\u003e\n\u003cp\u003eThe tables are as follows:\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003efilter\u003c/code\u003e:\nThis is the \u003cstrong\u003edefault table\u003c/strong\u003e (if no \u003ccode\u003e-t\u003c/code\u003e option is passed).\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eINPUT (for packets destined to local sockets)\u003c/li\u003e\n\u003cli\u003eFORWARD (for packets being routed through the box)\u003c/li\u003e\n\u003cli\u003eOUTPUT (for locally-generated packets)\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003ccode\u003enat\u003c/code\u003e:\nThis table is consulted when a packet that creates a new connection is encountered.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003ePREROUTING (for altering packets as soon as they come in)\u003c/li\u003e\n\u003cli\u003eOUTPUT (for altering locally-generated packets before routing)\u003c/li\u003e\n\u003cli\u003ePOSTROUTING (for altering packets as they are about to go out)\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003ccode\u003emangle\u003c/code\u003e:\nThis table is used for specialized packet alteration. Until kernel 2.4.17 it had two built-in chains: \u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003ePREROUTING (for altering incoming packets before routing)\u003c/li\u003e\n\u003cli\u003eOUTPUT (for altering locally-generated packets before routing). \u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eSince kernel 2.4.18, three other built-in chains are also supported: \u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eINPUT (for packets coming into the box itself)\u003c/li\u003e\n\u003cli\u003eFORWARD (for altering packets being routed through the box)\u003c/li\u003e\n\u003cli\u003ePOSTROUTING (for altering packets as they are about to go out)\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003ccode\u003eraw\u003c/code\u003e:\nThis table is used mainly for configuring exemptions from connection tracking in combination with the NOTRACK target. It registers at the netfilter hooks with higher priority and is thus called before ip_conntrack, or any other IP tables.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003ePREROUTING (for packets arriving via any network interface)\u003c/li\u003e\n\u003cli\u003eOUTPUT (for packets generated by local processes)\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch1 id=\"examples\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#examples\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eExamples\u003c/h1\u003e\n\u003cpre class=\"language-sh\"\u003e\u003ccode class=\"language-sh\"\u003e## List Rules\niptables -L --line-numbers\n\n## List Rules in nat table\nsudo iptables -t nat -L -n\n\n## Delete a rule by number\niptables -D [CHAIN NAME] [RULE NUMBER]\n## e.g. Delete 11th rule at the \"FORWARD\" chain.\niptables -D FORWARD 11\n\n## Port forward to another IP\n## TCP\niptables -t nat -I PREROUTING -p tcp -m tcp --dst \u0026#x3C;node_a\u003e --dport \u0026#x3C;port_a\u003e[:\u0026#x3C;port_b\u003e] -j DNAT --to-destination \u0026#x3C;node_b\u003e:\u0026#x3C;port_a\u003e[-\u0026#x3C;port_b\u003e]\niptables -t nat -A POSTROUTING -m tcp -p tcp --dst \u0026#x3C;node_b\u003e --dport \u0026#x3C;port_a\u003e[:\u0026#x3C;port_b\u003e] -j SNAT --to-source \u0026#x3C;node_a\u003e\n## Not sure if need the below\niptables -A FORWARD -m tcp -p tcp --dst \u0026#x3C;node_b\u003e --dport \u0026#x3C;port_a\u003e:\u0026#x3C;port_b\u003e -j ACCEPT\n## e.g. NodeA (192.168.0.3:31000-31999) -\u003e NodeB (172.20.0.11:31000-31999)\niptables -t nat -I PREROUTING -p tcp -m tcp --dst 192.168.0.3 --dport 31000:31999 -j DNAT --to-destination 172.20.0.11:31000-31999\niptables -t nat -A POSTROUTING -m tcp -p tcp --dst 172.20.0.11 --dport 31000:31999 -j SNAT --to-source 192.168.0.3\niptables -A FORWARD -m tcp -p tcp --dst 172.20.0.11 --dport  31000:31999 -j ACCEPT\n## Another example with masqerade: 3124 -\u003e 1.1.1.1:3000\niptables -t nat -A PREROUTING -p tcp --dport 3124 -j DNAT --to-destination 1.1.1.1:3000\niptables -t nat -A POSTROUTING -j MASQUERADE\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch1 id=\"other-notes\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#other-notes\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eOther Notes\u003c/h1\u003e\n\u003ch2 id=\"ip-forwarding\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#ip-forwarding\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eIP Forwarding\u003c/h2\u003e\n\u003cp\u003eNAT uses IP forwarding and by default it’s not enabled in the kernel parameters\u003c/p\u003e\n\u003ch3 id=\"check-if-ip-forwarding-is-enabled\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#check-if-ip-forwarding-is-enabled\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eCheck if IP forwarding is enabled\u003c/h3\u003e\n\u003cpre class=\"language-sh\"\u003e\u003ccode class=\"language-sh\"\u003e## CentOS/RHEL\nsysctl net.ipv4.ip_forward\n## Debian:\nsudo sysctl net.ipv4.ip_forward\n## Return: net.ipv4.ip_forward = 0   # where 0 means disabled\nnet.ipv4.ip_forward = 0\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3 id=\"enable-ip-forwarding\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#enable-ip-forwarding\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eEnable IP forwarding\u003c/h3\u003e\n\u003cpre class=\"language-sh\"\u003e\u003ccode class=\"language-sh\"\u003e### To enable IP persistently (survives a reboot):\n## CentOS/RHEL:\necho \"net.ipv4.ip_forward = 1\"|sudo tee /etc/sysctl.d/99-ipforward.conf\n## Debian:\nsudo sed -i 's/#net.ipv4.ip_forward=1/net.ipv4.ip_forward=1/g' /etc/sysctl.conf\n\n### To activate the changes immediately afer making the aboves changes:\n## CentOS/RHEL:\nsudo sysctl -p /etc/sysctl.d/99-ipforward.conf\n## Debian:\nsudo sysctl -p\n\u003c/code\u003e\u003c/pre\u003e","noteIndex":{"id":"root","title":"root","desc":"","updated":1595961348801,"created":1595961348801,"custom":{"nav_order":0,"permalink":"/"},"fname":"root","type":"note","vault":{"fsPath":".","name":"vault","selfContained":true},"contentHash":"dad9815845eec627c937e34281a065d5","links":[],"anchors":{"root":{"type":"header","text":"Root","value":"root","line":8,"column":0,"depth":1}},"children":["ced683be-fe67-4022-989f-abc6d311cb3a","132fe0fe-fc74-4dbe-982a-9dcac677f664","a44df307-1a67-417b-b733-da109c3be441","b9686e84-d9a1-4dbb-8474-1a9c156d6d12","93a5dc42-8663-4d3c-924f-82e8faa35a67","f80d45a1-bd90-4097-96bc-0301fbc4d937","19992660-3602-4c64-a3a5-e9c05f19ffac","3f157f98-5c61-4479-b311-956d4b0ef67a"],"parent":null,"data":{},"body":"\n# Root\n\nThis is the root fo your dendron vault. If you decide to publish your entire vault, this will be your landing page. You are free to customize any part of this page except the frontmatter on top. \n"},"collectionChildren":null,"customHeadContent":null,"config":{"version":5,"dev":{"enablePreviewV2":true},"commands":{"lookup":{"note":{"selectionMode":"extract","confirmVaultOnCreate":false,"leaveTrace":true,"bubbleUpCreateNew":true,"vaultSelectionModeOnCreate":"smart","fuzzThreshold":0.2}},"randomNote":{},"insertNote":{"initialValue":"templates"},"insertNoteLink":{"aliasMode":"none","enableMultiSelect":false},"insertNoteIndex":{"enableMarker":false},"copyNoteLink":{}},"workspace":{"vaults":[{"fsPath":".","name":"vault","selfContained":true}],"journal":{"dailyDomain":"daily","name":"journal","dateFormat":"y.MM.dd","addBehavior":"childOfDomain"},"scratch":{"name":"scratch","dateFormat":"y.MM.dd.HHmmss","addBehavior":"asOwnDomain"},"task":{"name":"","dateFormat":"","addBehavior":"childOfCurrent","statusSymbols":{"":" ","wip":"w","done":"x","assigned":"a","moved":"m","blocked":"b","delegated":"l","dropped":"d","pending":"y"},"prioritySymbols":{"H":"high","M":"medium","L":"low"},"todoIntegration":false,"createTaskSelectionType":"selection2link"},"graph":{"zoomSpeed":1},"enableAutoCreateOnDefinition":false,"enableXVaultWikiLink":false,"enableRemoteVaultInit":true,"enableUserTags":true,"enableHashTags":true,"workspaceVaultSyncMode":"noCommit","enableAutoFoldFrontmatter":false,"maxPreviewsCached":10,"maxNoteLength":204800,"dendronVersion":"0.87.3","enableEditorDecorations":true,"enableFullHierarchyNoteTitle":false},"preview":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enableMermaid":true,"enablePrettyRefs":true,"enableKatex":true,"automaticallyShowPreview":false,"enableFrontmatterTags":true,"enableHashesForFMTags":false},"publishing":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enableMermaid":true,"enablePrettyRefs":true,"enableKatex":true,"assetsPrefix":"/dendron-notes","copyAssets":true,"siteHierarchies":["root"],"enableSiteLastModified":true,"siteRootDir":"docs","siteUrl":"https://jackyhui96.github.io","enableFrontmatterTags":true,"enableHashesForFMTags":false,"enableRandomlyColoredTags":true,"duplicateNoteBehavior":{"action":"useVault","payload":["vault"]},"writeStubs":false,"seo":{"title":"Dendron Notes","description":"Personal knowledge space"},"github":{"enableEditLink":true,"editLinkText":"Edit this page on GitLab","editBranch":"main","editViewMode":"tree"},"enablePrettyLinks":true,"siteFaviconPath":"favicon.ico","siteIndex":"root"}}},"__N_SSG":true},"page":"/notes/[id]","query":{"id":"yPSbfSUiv5mdVJHX2LaBF"},"buildId":"n99zhAM-gKPmAIazFHerv","assetPrefix":"/dendron-notes","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>