{"pageProps":{"note":{"id":"19b67356-8767-4a7e-bb63-9176afa9f1f2","title":"Plexmediaserver","desc":"","updated":1636054762895,"created":1599322955852,"custom":{},"fname":"app.plex","type":"note","vault":{"fsPath":".","name":"vault","selfContained":true},"contentHash":"01c8c24836a38de1714268d5404407cf","links":[],"anchors":{"plexmediaserver":{"type":"header","text":"Plexmediaserver","value":"plexmediaserver","line":8,"column":0,"depth":1},"plex_home-location":{"type":"header","text":"$PLEX_HOME Location","value":"plex_home-location","line":10,"column":0,"depth":2},"move-the-installation":{"type":"header","text":"Move the installation","value":"move-the-installation","line":13,"column":0,"depth":2},"repair-a-corrupt-database":{"type":"header","text":"Repair a Corrupt Database","value":"repair-a-corrupt-database","line":41,"column":0,"depth":2},"docker-install":{"type":"header","text":"Docker install","value":"docker-install","line":47,"column":0,"depth":2},"support":{"type":"header","text":"Support","value":"support","line":61,"column":0,"depth":3},"error-update-libseccomp2":{"type":"header","text":"Error update libseccomp2","value":"error-update-libseccomp2","line":76,"column":0,"depth":3}},"children":[],"parent":"ced683be-fe67-4022-989f-abc6d311cb3a","data":{}},"body":"<h1 id=\"plexmediaserver\"><a aria-hidden=\"true\" class=\"anchor-heading\" href=\"#plexmediaserver\"><svg aria-hidden=\"true\" viewBox=\"0 0 16 16\"><use xlink:href=\"#svg-link\"></use></svg></a>Plexmediaserver</h1>\n<h1 id=\"plexmediaserver-1\"><a aria-hidden=\"true\" class=\"anchor-heading\" href=\"#plexmediaserver-1\"><svg aria-hidden=\"true\" viewBox=\"0 0 16 16\"><use xlink:href=\"#svg-link\"></use></svg></a>Plexmediaserver</h1>\n<h2 id=\"plex_home-location\"><a aria-hidden=\"true\" class=\"anchor-heading\" href=\"#plex_home-location\"><svg aria-hidden=\"true\" viewBox=\"0 0 16 16\"><use xlink:href=\"#svg-link\"></use></svg></a>$PLEX_HOME Location</h2>\n<p>/var/lib/plexmediaserver/</p>\n<h2 id=\"move-the-installation\"><a aria-hidden=\"true\" class=\"anchor-heading\" href=\"#move-the-installation\"><svg aria-hidden=\"true\" viewBox=\"0 0 16 16\"><use xlink:href=\"#svg-link\"></use></svg></a>Move the installation</h2>\n<p>Steps work for linux Plex Media Server (<strong>PMS</strong>), see reference for other OS.</p>\n<ol>\n<li>Disable emptying of trash on <strong>source PMS</strong>\n1.1 disabe <code>Settings > Library > Empty trash automatically after every scan</code> preference for server</li>\n<li>Install <strong>PMS</strong> on the <strong>destination</strong> server</li>\n<li>Sign out and stop the <strong>destination PMS</strong>, sign out using <code>settings > server > general</code></li>\n<li>Copy Server Data from <strong>source PMS</strong>\n4.1 stop the plex server\n4.2 data is stored at <code>/var/lib/plexmediaserver/Library/Application Support/Plex Media Server/</code>\n4.3 compress the files by using <code>tar</code>, then copy to <strong>destination PMS</strong>, </li>\n<li>Copy additional settings - <strong>*Not needed for linux, as done in previous step*</strong></li>\n<li>Make sure the copied files are owned by <code>plex:plex</code></li>\n<li>Reboot the <strong>destination PMS</strong> server</li>\n<li>Start the <strong>destination PMS</strong> application</li>\n<li>Open Plex Web App <strong>(PWA)</strong></li>\n<li>Sign Out and Back into the Server</li>\n<li>Edit your libraries,\n11.1 edit library and add appropriate folder for where content is located on the <strong>destination PMS</strong></li>\n<li>Scan the library, click on <code>Scan Library Files</code> on the Plex Media App</li>\n<li>Remove old content location, when you can verify that all of your content is working</li>\n<li>Final Maintenance\n14.1 Turn <code>Empty trash automatically after every scan</code> in the <strong>PWA</strong>\n14.2 <code>Empty Trash</code> on the <strong>PWA</strong>\n14.3 <code>Clean Bundles</code> on the <strong>PWA</strong>, wait couple of minutes after dialog exits\n14.4 <code>Optimize Database</code> on the <strong>PWA</strong></li>\n</ol>\n<p><em>Reference: <a href=\"https://support.plex.tv/articles/201370363-move-an-install-to-another-system/\">https://support.plex.tv/articles/201370363-move-an-install-to-another-system/</a></em></p>\n<h2 id=\"repair-a-corrupt-database\"><a aria-hidden=\"true\" class=\"anchor-heading\" href=\"#repair-a-corrupt-database\"><svg aria-hidden=\"true\" viewBox=\"0 0 16 16\"><use xlink:href=\"#svg-link\"></use></svg></a>Repair a Corrupt Database</h2>\n<p>Follow the steps in the reference to fix issues with media getting stuck in the 'Continue Watching' section despite being marked as unplayed.</p>\n<p><em>Reference: <a href=\"https://support.plex.tv/articles/201100678-repair-a-corrupt-database/?_ga=2.121149832.1231479726.1601827334-1128507795.1600200934\">Plex:Repair a Corrupt Database</a></em></p>\n<h2 id=\"docker-install\"><a aria-hidden=\"true\" class=\"anchor-heading\" href=\"#docker-install\"><svg aria-hidden=\"true\" viewBox=\"0 0 16 16\"><use xlink:href=\"#svg-link\"></use></svg></a>Docker install</h2>\n<pre class=\"language-sh\"><code class=\"language-sh\">docker run -d \\\n  --name=plex \\\n  --net=host \\\n  -e PUID=1000 \\\n  -e PGID=1000 \\\n  -e VERSION=docker \\\n  -v /usr/local/docker_apps/plex/config:/config \\\n  -v /media/usb1:/media \\\n  --restart unless-stopped \\\n  linuxserver/plex:arm32v7-latest\n</code></pre>\n<h3 id=\"support\"><a aria-hidden=\"true\" class=\"anchor-heading\" href=\"#support\"><svg aria-hidden=\"true\" viewBox=\"0 0 16 16\"><use xlink:href=\"#svg-link\"></use></svg></a>Support</h3>\n<pre class=\"language-sh\"><code class=\"language-sh\">## Shell access whilst the container is running:\ndocker exec -it plex /bin/bash\n\n## To monitor the logs of the container in realtime:\ndocker logs -f plex\n\n## Container version number\ndocker inspect -f '{{ index .Config.Labels \"build_version\" }}' plex\n\n## Image version number\ndocker inspect -f '{{ index .Config.Labels \"build_version\" }}' linuxserver/plex:arm32v7-latest\n</code></pre>\n<h3 id=\"error-update-libseccomp2\"><a aria-hidden=\"true\" class=\"anchor-heading\" href=\"#error-update-libseccomp2\"><svg aria-hidden=\"true\" viewBox=\"0 0 16 16\"><use xlink:href=\"#svg-link\"></use></svg></a>Error update libseccomp2</h3>\n<p><code>libc++abi: terminating with uncaught exception of type std::__2::system_error: clock_gettime(CLOCK_MONOTONIC) failed: Operation not permitted</code></p>\n<p>Add the backports repo for DebianBuster:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> apt-key adv --keyserver keyserver.ubuntu.com --recv-keys 04EE7237B7D453EC 648ACFD622F3D138\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"deb http://deb.debian.org/debian buster-backports main\"</span> <span class=\"token operator\">|</span> <span class=\"token function\">sudo</span> <span class=\"token function\">tee</span> -a /etc/apt/sources.list.d/buster-backports.list\n<span class=\"token function\">sudo</span> <span class=\"token function\">apt</span> update\n<span class=\"token function\">sudo</span> <span class=\"token function\">apt</span> <span class=\"token function\">install</span> -t buster-backports libseccomp2\n</code></pre>","noteIndex":{"id":"root","title":"root","desc":"","updated":1595961348801,"created":1595961348801,"custom":{"nav_order":0,"permalink":"/"},"fname":"root","type":"note","vault":{"fsPath":".","name":"vault","selfContained":true},"contentHash":"dad9815845eec627c937e34281a065d5","links":[],"anchors":{"root":{"type":"header","text":"Root","value":"root","line":8,"column":0,"depth":1}},"children":["ced683be-fe67-4022-989f-abc6d311cb3a","132fe0fe-fc74-4dbe-982a-9dcac677f664","a44df307-1a67-417b-b733-da109c3be441","b9686e84-d9a1-4dbb-8474-1a9c156d6d12","93a5dc42-8663-4d3c-924f-82e8faa35a67","f80d45a1-bd90-4097-96bc-0301fbc4d937","19992660-3602-4c64-a3a5-e9c05f19ffac","3f157f98-5c61-4479-b311-956d4b0ef67a"],"parent":null,"data":{},"body":"\n# Root\n\nThis is the root fo your dendron vault. If you decide to publish your entire vault, this will be your landing page. You are free to customize any part of this page except the frontmatter on top. \n"},"collectionChildren":null,"customHeadContent":null,"config":{"version":5,"dev":{"enablePreviewV2":true},"commands":{"lookup":{"note":{"selectionMode":"extract","confirmVaultOnCreate":false,"leaveTrace":true,"bubbleUpCreateNew":true,"vaultSelectionModeOnCreate":"smart","fuzzThreshold":0.2}},"randomNote":{},"insertNote":{"initialValue":"templates"},"insertNoteLink":{"aliasMode":"none","enableMultiSelect":false},"insertNoteIndex":{"enableMarker":false},"copyNoteLink":{}},"workspace":{"vaults":[{"fsPath":".","name":"vault","selfContained":true}],"journal":{"dailyDomain":"daily","name":"journal","dateFormat":"y.MM.dd","addBehavior":"childOfDomain"},"scratch":{"name":"scratch","dateFormat":"y.MM.dd.HHmmss","addBehavior":"asOwnDomain"},"task":{"name":"","dateFormat":"","addBehavior":"childOfCurrent","statusSymbols":{"":" ","wip":"w","done":"x","assigned":"a","moved":"m","blocked":"b","delegated":"l","dropped":"d","pending":"y"},"prioritySymbols":{"H":"high","M":"medium","L":"low"},"todoIntegration":false,"createTaskSelectionType":"selection2link"},"graph":{"zoomSpeed":1},"enableAutoCreateOnDefinition":false,"enableXVaultWikiLink":false,"enableRemoteVaultInit":true,"enableUserTags":true,"enableHashTags":true,"workspaceVaultSyncMode":"noCommit","enableAutoFoldFrontmatter":false,"maxPreviewsCached":10,"maxNoteLength":204800,"dendronVersion":"0.87.3","enableEditorDecorations":true,"enableFullHierarchyNoteTitle":false},"preview":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enableMermaid":true,"enablePrettyRefs":true,"enableKatex":true,"automaticallyShowPreview":false,"enableFrontmatterTags":true,"enableHashesForFMTags":false},"publishing":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enableMermaid":true,"enablePrettyRefs":true,"enableKatex":true,"assetsPrefix":"/dendron-notes","copyAssets":true,"siteHierarchies":["root"],"enableSiteLastModified":true,"siteRootDir":"docs","siteUrl":"https://jackyhui96.github.io","enableFrontmatterTags":true,"enableHashesForFMTags":false,"enableRandomlyColoredTags":true,"duplicateNoteBehavior":{"action":"useVault","payload":["vault"]},"writeStubs":false,"seo":{"title":"Dendron Notes","description":"Personal knowledge space"},"github":{"enableEditLink":true,"editLinkText":"Edit this page on GitLab","editBranch":"main","editViewMode":"tree"},"enablePrettyLinks":true,"siteFaviconPath":"favicon.ico","siteIndex":"root"}}},"__N_SSG":true}